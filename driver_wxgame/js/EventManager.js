var egret=window.egret,EventManager={_listeners:{},guid:1,sub:function(e,t){return"undefined"==typeof this._listeners[e]&&(this._listeners[e]=[]),"function"==typeof t&&(this._listeners[e].push(t),t.guid=this.guid,this.guid++),this},pub:function(e){var t=this._listeners[e],i=Array.prototype.slice.call(arguments,1);if(t instanceof Array)for(var n=0,s=t.length;s>n;n++)"function"==typeof t[n]&&t[n].apply(this,i);return this},unsub:function(e,t){var i=this._listeners[e];if("string"==typeof e&&i instanceof Array)if("function"==typeof t){for(var n=0,s=i.length;s>n;n+=1)if(i[n].guid===t.guid){this._listeners[e].splice(n,1);break}}else delete this._listeners[e];return this}};window.EventManager=EventManager;