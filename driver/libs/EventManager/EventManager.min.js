var EventManager={_listeners:{},guid:1,sub:function(t,i){return"undefined"==typeof this._listeners[t]&&(this._listeners[t]=[]),"function"==typeof i&&(this._listeners[t].push(i),i.guid=this.guid,this.guid++),this},pub:function(t,i){var e=this._listeners[t],s=Array.prototype.slice.call(arguments,1);if(e instanceof Array)for(var n=0,r=e.length;r>n;n++)"function"==typeof e[n]&&e[n].apply(this,s);return this},unsub:function(t,i){var e=this._listeners[t];if("string"==typeof t&&e instanceof Array)if("function"==typeof i){for(var s=0,n=e.length;n>s;s+=1)if(e[s].guid===i.guid){this._listeners[t].splice(s,1);break}}else delete this._listeners[t];return this}};